<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <title>BTK Kalkul√°tor</title>
  <style>
    body {
      background-color: #1e1e1e;
      color: #f0f0f0;
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    h1 {
      color: #fff;
    }
    input, button {
      padding: 8px;
      margin-top: 5px;
      font-size: 16px;
    }
    input[type="text"] {
      width: 400px;
    }
    input[type="range"] {
      width: 300px;
    }
    #result {
      margin-top: 20px;
      padding: 15px;
      background: #2a2a2a;
      border-radius: 10px;
      font-size: 18px;
    }
    #lista {
      margin-top: 40px;
      padding: 15px;
      background: #111;
      border-radius: 10px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 10px;
    }
    th, td {
      border: 1px solid #444;
      padding: 6px;
      text-align: left;
    }
    th {
      background: #333;
    }
  </style>
</head>
<body>
  <h1>‚öñÔ∏è BTK Kalkul√°tor</h1>

  <label for="codeInput">R√∂vid√≠t√©sek (vessz≈ëvel elv√°lasztva):</label><br>
  <input type="text" id="codeInput" placeholder="pl. GYH, VL, KBO"><br>

  <label for="slider">Enyh√≠t√©s (%): <span id="sliderValue">0</span>%</label><br>
  <input type="range" id="slider" min="0" max="100" value="0">

  <br><br>
  <button onclick="calculate()">Sz√°mol</button>

  <div id="result">Itt lesz az eredm√©ny...</div>

  <div id="lista">
    <h2>üìú Teljes R√∂vid√≠t√©s Lista</h2>
    <table id="adatTabla">
      <tr>
        <th>R√∂vid√≠t√©s</th>
        <th>Paragrafus megnevez√©se</th>
        <th>P√©nzb√≠rs√°g (Ft)</th>
        <th>B√∂rt√∂n (Nap/Perc)</th>
      </tr>
    </table>
  </div>

  <script>
    const MAX_FT = 50000000;
    const MAX_PERC = 180;

    const slider = document.getElementById("slider");
    const sliderValue = document.getElementById("sliderValue");
    slider.addEventListener("input", () => {
      sliderValue.textContent = slider.value;
    });

    const adat = {
      "E√úH": {nev:"Els≈ëseg√©ly Csomag Hi√°nya", ft:350000, perc:0},
      "EH": {nev:"Elakad√°sjelz≈ë H√°romsz√∂g Hi√°nya", ft:350000, perc:0},
      "FEH": {nev:"Forgalmi Enged√©ly Hi√°nya", ft:1500000, perc:0},
      "VEH": {nev:"Vad√°sz Enged√©ly Hi√°nya", ft:5500000, perc:0},
      "IAGSZ": {nev:"Illeg√°lis Alkatr√©sz Szerel√©s", ft:1500000, perc:0},
      "EAEH": {nev:"Els≈ëbbs√©gad√°s Elmulaszt√°sa", ft:1500000, perc:0},
      "SP": {nev:"Szab√°lytalan Parkol√°s", ft:750000, perc:0},
      "GYH": {nev:"Gyorshajt√°s", ft:550000, perc:0},
      "TJV√Å": {nev:"Tilos Jelz√©sen √Åthalad√°s", ft:300000, perc:0},
      "JNV": {nev:"Jogos√≠tv√°ny N√©lk√ºli Vezet√©s", ft:1000000, perc:0},
      "RMA": {nev:"Rend≈ëri Munka Akad√°lyoz√°sa", ft:1000000, perc:0},
      "VL": {nev:"Vandalizmus", ft:500000, perc:0},
      "KBEB": {nev:"K√∂zleked√©s Biztons√°ga Elleni B≈±ncselekm√©ny", ft:500000, perc:0},
      "IOK": {nev:"Illeg√°lis Okm√°nyok Ki√°ll√≠t√°sa", ft:2000000, perc:0},
      "IFEK": {nev:"Illeg√°lis Forgalmi Enged√©ly Ki√°ll√≠t√°sa", ft:10000000, perc:0},
      "RJVK": {nev:"Rong√°lt J√°rm≈±vel Val√≥ K√∂zleked√©s", ft:750000, perc:0}
      // Ide j√∂het a t√∂bbi adat, amit kor√°bban √≠rt√°l
    };

    const tabla = document.getElementById("adatTabla");
    for (const key in adat) {
      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${key}</td>
        <td>${adat[key].nev}</td>
        <td>${adat[key].ft.toLocaleString()} Ft</td>
        <td>${adat[key].perc > 0 ? adat[key].perc+" nap/perc" : "-"}</td>
      `;
      tabla.appendChild(row);
    }

    function calculate() {
      const input = document.getElementById("codeInput").value;
      const resultDiv = document.getElementById("result");

      if (!input) {
        resultDiv.innerHTML = "‚ùå K√©rlek, adj meg r√∂vid√≠t√©seket!";
        return;
      }

      const codes = input.split(",").map(c => c.trim().toUpperCase());
      let totalFt = 0;
      let totalPerc = 0;
      let details = "";

      codes.forEach(code => {
        if (adat[code]) {
          totalFt += adat[code].ft;
          totalPerc += adat[code].perc;
          details += `<br>‚û§ ${code}: ${adat[code].ft.toLocaleString()} Ft, ${adat[code].perc} perc`;
        } else {
          details += `<br>‚ùå ${code}: nincs adat`;
        }
      });

      const enyhites = slider.value / 100;
      let ftMod = totalFt * (1 - enyhites);
      let percMod = totalPerc * (1 - enyhites);

      if (ftMod > MAX_FT) ftMod = MAX_FT;
      if (percMod > MAX_PERC) percMod = MAX_PERC;

      resultDiv.innerHTML = `
        <b>Eredeti √∂sszesen:</b> ${totalFt.toLocaleString()} Ft, ${totalPerc} perc
        <br><b>M√≥dos√≠tva (${slider.value}% enyh√≠t√©ssel):</b> ${ftMod.toLocaleString()} Ft, ${percMod} perc
        <hr>
        <b>R√©szletek:</b> ${details}
      `;
    }
  </script>
</body>
</html>
